<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Editor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <div class="container">
        <!-- Document Tabs -->
        <div class="document-tabs">
            <button onclick="addDocument()" class="btn-add-document" title="New Document">+</button>
            
            <div class="document-controls">
                <div class="document-selector">
                    <button class="document-current" id="currentDocumentBtn" onclick="toggleDocumentList()">
                        <span id="currentDocumentName">Document1</span>
                        <span class="dropdown-arrow">‚ñº</span>
                    </button>
                    <div class="document-list" id="documentList"></div>
                </div>
                
                <button onclick="showRenameModal(currentDocument)" class="btn-document-action" title="Rename Document">
                    <span>‚úèÔ∏è</span>
                </button>
                <button onclick="deleteDocument(currentDocument)" class="btn-document-action btn-delete" title="Delete Document">
                    <span>üóëÔ∏è</span>
                </button>
            </div>

            <div class="document-info">
                <span id="documentInfo">Ready</span>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-group">
                <button onclick="formatText('bold')" class="btn btn-format" title="Bold (Ctrl+B)">
                    <strong>B</strong>
                </button>
                <button onclick="formatText('italic')" class="btn btn-format" title="Italic (Ctrl+I)">
                    <em>I</em>
                </button>
                <button onclick="formatText('underline')" class="btn btn-format" title="Underline (Ctrl+U)">
                    <u>U</u>
                </button>
            </div>

            <div class="toolbar-separator"></div>

            <div class="toolbar-group">
                <select id="fontFamily" onchange="changeFontFamily()" class="font-select">
                    <option value="Inter">Inter</option>
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Courier New">Courier New</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Verdana">Verdana</option>
                </select>
                
                <select id="fontSize" onchange="changeFontSize()" class="font-select">
                    <option value="12px">12</option>
                    <option value="14px" selected>14</option>
                    <option value="16px">16</option>
                    <option value="18px">18</option>
                    <option value="20px">20</option>
                    <option value="24px">24</option>
                    <option value="28px">28</option>
                    <option value="32px">32</option>
                </select>
            </div>

            <div class="toolbar-separator"></div>

            <div class="toolbar-group">
                <button onclick="formatText('justifyLeft')" class="btn btn-format" title="Align Left">
                    <span>‚¨ÖÔ∏è</span>
                </button>
                <button onclick="formatText('justifyCenter')" class="btn btn-format" title="Align Center">
                    <span>‚ÜîÔ∏è</span>
                </button>
                <button onclick="formatText('justifyRight')" class="btn btn-format" title="Align Right">
                    <span>‚û°Ô∏è</span>
                </button>
            </div>

            <div class="toolbar-separator"></div>

            <div class="toolbar-group">
                <button onclick="formatText('insertUnorderedList')" class="btn btn-format" title="Bullet List">
                    <span>‚Ä¢</span>
                </button>
                <button onclick="formatText('insertOrderedList')" class="btn btn-format" title="Numbered List">
                    <span>1.</span>
                </button>
            </div>

            <div class="toolbar-separator"></div>

            <div class="toolbar-group">
                <button onclick="formatHeading('p')" class="btn btn-format" title="Normal Text">
                    <span>Normal</span>
                </button>
                <button onclick="formatHeading('h1')" class="btn btn-format" title="Heading 1">
                    <span>H1</span>
                </button>
                <button onclick="formatHeading('h2')" class="btn btn-format" title="Heading 2">
                    <span>H2</span>
                </button>
                <button onclick="formatHeading('h3')" class="btn btn-format" title="Heading 3">
                    <span>H3</span>
                </button>
            </div>

            <div class="toolbar-separator"></div>

            <div class="toolbar-group">
                <button onclick="saveData()" class="btn btn-success">Save</button>
                <button onclick="loadData()" class="btn btn-info">Refresh</button>
            </div>
        </div>

        <!-- Editor -->
        <div class="editor-container">
            <div id="editor" class="editor" contenteditable="true" placeholder="Start typing your document..."></div>
        </div>
    </div>

    <!-- Rename Document Modal -->
    <div id="renameModal" class="modal">
        <div class="modal-content rename-modal">
            <div class="modal-header">
                <h2>Rename Document</h2>
                <span class="close" onclick="closeRenameModal()">&times;</span>
            </div>
            <form id="renameForm">
                <div class="form-group">
                    <label for="documentName">Document Name</label>
                    <input type="text" id="documentName" class="form-input" placeholder="Enter document name" required autofocus>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeRenameModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Rename</button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="{{ url_for('static', filename='heading-context-menu.js') }}"></script>
</body>
</html>